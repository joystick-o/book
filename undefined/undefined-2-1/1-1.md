# 1장 깨끗한 코드

### 코드가 존재하리라

앞으로 코드가 사라질 가망은 전혀 없다! 왜? 코드는 요구사항을 상세히 표현하는 수단이니까!

언 코드가 사라지리라 생각하는 사람들은 우리가 시키는 대로가 아니라 원하는 대로 돌아가는 기계가 나오리라 기대한다.

절대로 불가능한 기대다.

{% embed url="https://n.news.naver.com/article/092/0002223028" %}

![](<../../.gitbook/assets/image (6).png>)

그래도.. 어느 순간에는 정밀한 표현이 필요하니까 코드도 항상 존재하...겠지...



### 나쁜 코드

프로그래머라면 누구나 당연히 나쁜 코드로 고생한 경험이 있다.\
급해서 , 서두르느라, 후딱 해치우고 다른 업무로 넘어가려고 등등\
나중에 다시 정리하겠다고 다짐하지만 우리는 몰랐다.

**그 시간은 결코 오지 않는다는 것을**

나쁜 코드는 쌓일수록 생산성을 점점 떨어뜨린다.\
결국 새 시스템을 만들어야 하는 상황이 올 수 밖에 없다.\
모든 잘못은 우리 프로그래머의 잘못이니.. 우리는 코드를 최대한 깨끗하게 유지하는 습관이 필요하다.

그럼 깨끗한 코드를 개발 고인물들은 어떻게 정의했는지 알아보자.

### 깨끗한 코드란?

#### 비야네 스트롭스트룹

> 나는 우아하고 효율적인 코드를 좋아한다.\
> 논리가 간단해야 버그가 숨어들지 못한다.\
> 오류는 명백한 전략에 의거해 철저히 처리한다.\
> 깨끗한 코드는 한 가지를 제대로 한다.

잘 만든 오르골이나 잘 디자인된 차를 접할 때처럼 깨끗한 코드는 보는 사람에게 즐거움을 선사해야 한다.

그리고 효율이 단순한 속도만이 아니라 CPU 자원을 낭비하는 코드도 즐겁지 우아하지 못하다. 우아하지 않은 코드 즉 나쁜 코드는 나쁜 코드를 유혹한다고 하는데 나쁜 코드를 고치면서 더 나쁜 코드를 만들수도 있다는 얘기다.

프로그래머들이 대충 넘어가는 부분 중 하나가 오류 처리이므로\
세세한 사항까지 꼼꼼하게 신경써 처리하는 깨끗한 코드를 만들자.

나쁜 코드는 너무 많은 일을 하려 애쓰다가 의도가 뒤섞이고 목적이 흐려진다.\
그에 반해 깨끗한 코드는 한 가지에 **집중** 한다.

#### 그래디 부치

> 깨끗한 코드는 단순하고 직접적이다.\
> 깨끗한 코드는 잘 쓴 문장처럼 읽힌다.\
> 설계자의 의도를 숨기지 않는다.\
> 명쾌한 추상화와 단순한 제어문으로 가득하다.

그래디는 **가독성**을 강조한다.\
코드는 추측이 아니라 사실에 기반해야 한다.\
반드시 필요한 내용만 담아야 한다.

#### 데이브 토마스

> 깨끗한 코드는 작성자가 아닌 사람도 읽기 쉽고 고치기 쉽다.\
> 단위 테스트 케이스와 인수 테스트 케이스가 존재한다.\
> 깨끗한 코드에는 의미 있는 이름이 붙는다.

가독성과 다른 사람이 고치기 쉬워야 한다는것을 강조한다.

테스트 케이스가 없는 코드는 깨끗한 코드가 아니다.\
코드가 아무리 우아해도 가독성이 높아도 테스트 케이스가 없으면 깨끗하지 않다.

#### 마이클 페더스

> 깨끗한 코드는 언제나 누군가 주의 깊게 짰다는 느낌을 준다.\
> 고치려고 살펴봐도 딱히 손 댈 곳이 없다.\
> 작성자가 이미 모든 사항을 고려했으므로.

한 마디로 요약하면 **주의** 다.\
깨끗한 코드는 주의 깊게 작성한 코드다.\
누군가 시간을 들여 깔끔하고 단정하게 정리한 코드다.

#### 론 제프리스

> 모든 테스트를 통과한다.\
> 중복이 없다.\
> 시스템 내 모든 설계 아이디어를 표현한다.\
> 클래스, 메서드, 함수등을 최대한 줄인다.

중복을 피하라.\
한가지 기능만 수행하라.\
제대로 표현하라.\
작게 추상화하라.

#### 워드 커닝햄

> 코드를 읽으면서 짐작했던 기능을 각 루틴이 그대로 수행한다면 깨끗한 코드라 불러도 되겠다.\
> 코드가 그 문제를 풀기 위한 언어처럼 보인다면 아름다운 코드라 불러도 되겠다.

깨끗한 코드는 읽으면서 놀랄 일이 없어야 한다고 말한다.\
코드를 독해하느라 머리를 쥐어짤 필요가 없어야 한다.

우리는 항상 언어가 문제에 적합하지 않다며 언어를 비난하는데\
워드는 그 책임을 우리 자신에게 돌린다.\
`코드가 그 문제를 출기 위한 언어처럼 보인다면` 아름다운 코드라 말한다.\
언어를 단순하게 보이도록 만드는 책임이 우리에게 있다는 뜻이다

### 우리는 저자다

Javadoc 에서 @author 필드는 저자를 소개한다. 우리는 저자다.\
그냥 개발만 하던 내가 알고보니 저자..?

저자에게는 독자와 잘 소통할 책임도 있다.\
실제로 새 코드를 짜면서 우리는 끊임없이 기존 코드를 읽는다.\
코드를 읽는 시간과 짜는 시간의 비율이 10 : 1을 넘는다고 하니 읽기 쉬운 코드가 매우 중요하다.

급하다면, 서둘러 끝내려면, 쉽게 짜려면,  읽기 쉽게 만들면 된다.

### 보이스카우트 규칙

잘 짠 코드가 전부는 아니다. 시간이 지나도 언제나 깨끗하게 유지해야 한다.\
시간이 지나면서 엉망으로 전락하는 코드가 한둘이 아니니 적극적으로 코드의 퇴보를 막아야 한다.

미국 보이스카우트가 따르는 간단 규칙이 우리들에게도 유용하다.

> 캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라!

한꺼번에 많은 시간과 노력을 투자해 코드를 정리할 필요가 없다.\
변수 이름 하나를 개선하고,\
조금 긴 함수 하나를 분할하고,\
약간의 중복을 제거하고,\
복잡한 if 문 하나를 정리하면 충분하다.

