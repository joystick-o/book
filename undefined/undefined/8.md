# 8장 코틀린 대리자

클래스 대리자를 통해 상속을 합성으로 대체할 수 있고,  
속성 대리자를 통해 어떤 속성의 획득자와 설정자를 다른 클래스에 있는 속성의 획득자\(?\)와 설정자\(?\)로 대체할 수 있다.

## 대리자를 사용해서 합성 구현하기

다른 클래스의 인스턴스가 포함된 클래스를 만들고, 그 클래스에 연산을 위임하고 싶다.

연산을 위임할 메소드가 포함된 인터페이스를 만들고, 클래스에서 해당 인터페이스를 구현한 다음, by 키워드를 사용해 바깥쪽에 래퍼 클래스를 만든다.

예를 들어, 스마트폰에는 전화와 카메라뿐만 아니라 여러 가지 부속품이 있다.  
스마트폰을 래퍼 객체로, 내부 전화와 카메라 부품을 스마트폰에 포함된 객체로 대입해 생각해보면  
스마트폰 클래스의 함수를 호출하면 이에 포함된 인스턴스 함수를 호출하는 것이다.

```kotlin
interface Dialable {
    fun dial(number: String): String
}

class Phone : Dialable {
    override fun dial(number: String) =
        "Dialing $number..."
}

interface Snappable {
    fun takePicture(): String
}

class Camera : Snappable {
    override fun takePicture() =
        "Taking picture..."
}
```

```kotlin
class SmartPhone(
    private val phone: Dialable = phone(),
    private val camera: Snappable = Camera()
) : Dialable by phone, Snappable by camera // 키워드 by를 사용해서 위임
```

```kotlin
class SmartPhoneTest {
    private val smartPhone: SmartPhone = SmartPhone()
}
```

